(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f749e994"],{"159d":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-data-table",{staticStyle:{width:"100%"},attrs:{headers:t.headers,items:t.orders,"items-per-page":10,"hide-default-footer":"","item-key":"id",loading:t.ordersLoading},on:{"click:row":t.openOrderDialog},scopedSlots:t._u([{key:"item.create_at",fn:function(e){var i=e.item;return[n("span",[t._v(t._s(t.$moment(i.create_at).format("LL")))])]}},{key:"item.is_paid",fn:function(e){var i=e.item;return[n("span",[t._v(t._s(i.is_paid?"是":"否"))])]}},{key:"item.paid_date",fn:function(e){var i=e.item;return[n("span",[t._v(t._s(t.$moment(i.paid_date).format("LL")))])]}},{key:"item.total",fn:function(e){var i=e.item;return[n("span",{staticClass:"text-right d-block"},[t._v(" "+t._s(i.total?t.$n(i.total,"currency"):"$0")+" ")])]}},{key:"item.user",fn:function(e){var i=e.item;return[n("span",{staticClass:"text-right d-block"},[t._v(" "+t._s("user"in i&&"name"in i.user?i.user.name:"")+" ")])]}},{key:"footer",fn:function(){return[n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("v-col",[n("v-pagination",{attrs:{"total-visible":7,length:t.totalPage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)]},proxy:!0}])})],1),n("v-dialog",{attrs:{width:"300"},model:{value:t.isOrderDialogOpen,callback:function(e){t.isOrderDialogOpen=e},expression:"isOrderDialogOpen"}},[n("v-card",[n("div",{staticClass:"pa-6"},[n("v-icon",[t._v("mdi-sign-caution")]),t._v(" 功能測試中... ")],1)])],1)],1)},a=[],r=(n("96cf"),n("1da1")),s={data:function(){return{ordersLoading:!1,page:1,isOrderDialogOpen:!1,focusedOrder:{}}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getOrders();case 2:case"end":return e.stop()}}),e)})))()},watch:{page:function(){this.getOrders()}},computed:{headers:function(){return[{text:"建立日期",value:"create_at",width:60},{text:"是否已付款",value:"is_paid",width:60},{text:"付款日期",value:"paid_date",width:60},{text:"總金額",value:"total",width:60},{text:"客戶姓名",value:"user",width:60}]},orders:function(){return this.$store.state.orders},totalPage:function(){var t,e;return null!==(t=null===(e=this.$store.state.ordersPagination)||void 0===e?void 0:e.total_pages)&&void 0!==t?t:0}},methods:{getOrders:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.ordersLoading=!0,e.next=3,t.$store.dispatch("getOrders",t.page);case 3:t.ordersLoading=!1;case 4:case"end":return e.stop()}}),e)})))()},openOrderDialog:function(t){this.focusedOrder=t,this.isOrderDialogOpen=!0}}},o=s,u=n("2877"),c=n("6544"),l=n.n(c),h=n("b0af"),d=n("62ad"),v=n("a523"),p=n("8fea"),f=n("169a"),g=n("132d"),m=n("891e"),b=n("0fd9"),_=Object(u["a"])(o,i,a,!1,null,null,null);e["default"]=_.exports;l()(_,{VCard:h["a"],VCol:d["a"],VContainer:v["a"],VDataTable:p["a"],VDialog:f["a"],VIcon:g["a"],VPagination:m["a"],VRow:b["a"]})},"17b3":function(t,e,n){},"891e":function(t,e,n){"use strict";n("99af"),n("d81d"),n("a9e3"),n("d3b7"),n("25f0");var i=n("2909"),a=n("5530"),r=(n("17b3"),n("9d26")),s=n("dc22"),o=n("a9ad"),u=n("de2c"),c=n("7560"),l=n("58df");e["a"]=Object(l["a"])(o["a"],Object(u["a"])({onVisible:["init"]}),c["a"]).extend({name:"v-pagination",directives:{Resize:s["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1===0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return Object(a["a"])({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10),e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);var n=e%2===0?1:0,a=Math.floor(e/2),r=this.length-a+1+n;if(this.value>a&&this.value<r){var s=this.value-a+2,o=this.value+a-2-n;return[1,"..."].concat(Object(i["a"])(this.range(s,o)),["...",this.length])}if(this.value===a){var u=this.value+a-1-n;return[].concat(Object(i["a"])(this.range(1,u)),["...",this.length])}if(this.value===r){var c=this.value-a+1;return[1,"..."].concat(Object(i["a"])(this.range(c,this.length)))}return[].concat(Object(i["a"])(this.range(1,a)),["..."],Object(i["a"])(this.range(r,this.length)))}},watch:{value:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){var n=[];t=t>0?t:1;for(var i=t;i<=e;i++)n.push(i);return n},genIcon:function(t,e,n,i){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":n},attrs:{type:"button"},on:n?{}:{click:i}},[t(r["a"],[e])])])},genItem:function(t,e){var n=this,i=e===this.value&&(this.color||"primary");return t("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button"},on:{click:function(){return n.$emit("input",e)}}}),[e.toString()])},genItems:function(t){var e=this;return this.items.map((function(n,i){return t("li",{key:i},[isNaN(Number(n))?t("span",{class:"v-pagination__more"},[n.toString()]):e.genItem(t,n)])}))}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next)];return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}})}}]);
//# sourceMappingURL=chunk-f749e994.c1231f42.js.map